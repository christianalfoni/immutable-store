!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):"object"==typeof exports?exports.Store=r():t.Store=r()}(this,function(){return function(t){function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var e={};return r.m=t,r.c=e,r.p="",r(0)}([function(t,r,e){"use strict";function n(t){if(!t||"object"!=typeof t||Array.isArray(t)||null===t)throw new Error("You have to pass an object to the store");var r={currentPath:[],currentStore:null,update:function(t,e){return r.currentStore=p(r,t,e),r.currentStore}};return r.currentStore=i(r,t),r.currentStore}var o=e(2),u=e(3),c=function(t,r){return Array.isArray(t)?o(t,r):"object"==typeof t&&null!==t?u(t,r):t},a=function(t,r){if(Array.isArray(r)&&!r.__){var e=r.map(function(r,e){t.currentPath.push(e);var n=a(t,r);return t.currentPath.pop(),n}),n=o(e,t);return Object.freeze(n),n}if("object"!=typeof r||null===r||r.__)return r;var c=Object.keys(r).reduce(function(e,n){return t.currentPath.push(n),e[n]=a(t,r[n]),t.currentPath.pop(),e},{}),p=u(c,t);return Object.freeze(p),p},p=function(t,r,e){t.currentPath=[];var n=c(t.currentStore,t),o=n;r.forEach(function(r){t.currentPath.push(r),o[r]=c(o[r],t),o=o[r]}),e(o,t,a),o=n,r.forEach(function(r){o=o[r],Object.freeze(o),t.currentPath.pop()});var p=u(n,t);return Object.keys(n).forEach(function(r){Object.defineProperty(p,r,{enumerable:!0,get:function(){return t.currentStore=this,n[r]}})}),Object.freeze(p),p},i=function(t,r){var e=u({},t);return Object.keys(r).forEach(function(n){t.currentPath.push(n);var o=a(t,r[n]);t.currentPath.pop(n),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t.currentStore=this,o}})}),Object.freeze(e),e};t.exports=n},function(t){"use strict";var r={toJS:function(t){return t instanceof Array?t.map(function(t){return r.toJS(t)}):"object"==typeof t&&null!==t?Object.keys(t).reduce(function(e,n){return e[n]=r.toJS(t[n]),e},{}):t}};t.exports=r},function(t,r,e){"use strict";var n=e(1),o=function(){function t(r){var e=Array.apply(Array);return e=e.concat(r),e.__proto__=t.prototype,e}return t.prototype=Object.create(Array.prototype),t.prototype.push=function(t){return this.__.update(this.__.path,function(r,e,n){e.currentPath.push(r.length),Array.prototype.push.call(r,n(e,t)),e.currentPath.pop()})},t.prototype.splice=function(){var t=[].slice.call(arguments,0),r=t.shift(),e=t.shift();return this.__.update(this.__.path,function(n,o,u){var c=t.map(function(t,e){o.currentPath.push(r+e);var n=u(o,t);return o.currentPath.pop(),n});Array.prototype.splice.apply(n,[r,e].concat(c));for(var a=r;a<n.length;a++)if(n[a].__){var p=n[a].__.path;p[p.length-1]=a}})},t.prototype.concat=function(){var t=[].slice.call(arguments,0);return this.__.update(this.__.path,function(r,e,n){t.map(function(t){Array.isArray(t)?t.map(function(t){e.currentPath.push(r.length),Array.prototype.push.call(r,n(e,t)),e.currentPath.pop()}):(e.currentPath.push(r.length),Array.prototype.push.call(r,n(e,t)),e.currentPath.pop())})})},t.prototype.unshift=function(t){return this.__.update(this.__.path,function(r,e,n){Array.prototype.unshift.call(r,n(e,t));for(var o=0;o<r.length;o++)if(r[o].__){var u=r[o].__.path;u[u.length-1]=o}})},t.prototype.shift=function(t){return this.__.update(this.__.path,function(r,e,n){Array.prototype.shift.call(r,n(e,t));for(var o=0;o<r.length;o++)if(r[o].__){var u=r[o].__.path;u[u.length-1]=o}})},t.prototype.pop=function(){return this.__.update(this.__.path,function(t){Array.prototype.pop.call(t)})},t.prototype.toJS=function(){return n.toJS(this)},function(r,e){var n=new t(r);return Object.defineProperty(n,"__",{value:{path:e.currentPath.slice(0),update:e.update}}),n}};t.exports=o()},function(t,r,e){"use strict";var n=e(1),o=function(){var t={set:function(t,r){return this.__.update(this.__.path,function(e,n,o){Array.isArray(r)&&r.forEach(function(t,r){t.__&&(t.__.path[t.__.path.length-1]=r)}),n.currentPath.push(t),e[t]=o(n,r),n.currentPath.pop()})},toJS:function(){return n.toJS(this)},merge:function(t){if(Array.isArray(t)||"object"!=typeof t||null===t)throw new Error("You have to pass an object to the merge method");return this.__.update(this.__.path,function(r,e,n){Object.keys(t).forEach(function(o){e.currentPath.push(o),r[o]=n(e,t[o]),e.currentPath.pop()})})}};return function(r,e){var n=Object.create(t);return Object.keys(r).forEach(function(t){n[t]=r[t]}),Object.defineProperty(n,"__",{value:{path:e.currentPath.slice(0),update:e.update}}),n}};t.exports=o()}])});